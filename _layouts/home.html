---
layout: default
---

<script id="allImageFiles" type="application/json">
[
  {% assign image_extensions = 'jpg,jpeg,png,gif,webp,JPG,JPEG,PNG,GIF,WEBP' | split: ',' %}
  {% assign image_files = site.static_files | where_exp: "file", "file.path contains 'images/'" %}
  {% for file in image_files %}
    {% if image_extensions contains file.extname %}
  {
    "path": "{{ file.path | relative_url }}",
    "name": "{{ file.path | split: '/' | last }}"
  }{% unless forloop.last %},{% endunless %}
    {% endif %}
  {% endfor %}
]
</script>

<div class="random-photo-container">
  <div class="random-photo-wrapper">
    <img id="randomPhoto" src="" alt="Random photo" />
  </div>
  <button id="nextPhotoBtn" class="next-photo-btn">Show Another Photo</button>
</div>

<script>
  const allFilesEl = document.getElementById('allImageFiles');
  const allFiles = JSON.parse(allFilesEl.textContent);
  const randomPhoto = document.getElementById('randomPhoto');
  const nextPhotoBtn = document.getElementById('nextPhotoBtn');

  function showRandomPhoto() {
    if (allFiles.length === 0) {
      randomPhoto.alt = 'No photos found';
      return;
    }
    const randomIndex = Math.floor(Math.random() * allFiles.length);
    const randomFile = allFiles[randomIndex];
    randomPhoto.src = randomFile.path;
    randomPhoto.alt = randomFile.name;
  }

  nextPhotoBtn.addEventListener('click', showRandomPhoto);
  showRandomPhoto();
</script>
